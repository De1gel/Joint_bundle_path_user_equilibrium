This repository provides C++ implementations and case-study data for the joint bundleâ€“path heterogeneous user equilibrium model and the numerical experiments reported in the paper.

The implementation includes a dynamic-link library (DLL) that implements a general multimodal network framework and traffic assignment algorithms.

## Build `multi_net.dll` (Windows, MinGW-w64 g++)

This project is built and tested on Windows using the MinGW-w64 GCC toolchain (`g++`) and Eigen3 (header-only). The build commands below mirror the tested task configuration.

### Requirements

- Windows 10/11
- MinGW-w64 GCC toolchain available in `PATH`
  - Check: `g++ --version`
- Eigen3 headers (installed via vcpkg in the reference environment)
  - Reference include path:
    - `D:/MyCode/C++/libs/vcpkg/packages/eigen3_x64-windows/include`
  - Reference lib path (kept for consistency with the tested command, even though Eigen is header-only):
    - `D:/MyCode/C++/libs/vcpkg/packages/eigen3_x64-windows/lib`

### Build outputs

- `multi_net.dll` (runtime library)
- `multi_net.lib` (import library generated by the linker via `--out-implib`)

### Compile the DLL (tested g++ command)

Run from the repository directory that contains `dll/`:

```bat
g++ -std=c++17 -shared -DMULTINET_EXPORTS -g -O0 ^
  dll\src\Node.cpp ^
  dll\src\Link.cpp ^
  dll\src\Layer.cpp ^
  dll\src\Network.cpp ^
  dll\src\Solver.cpp ^
  -o multi_net.dll ^
  -I dll\include ^
  -I D:/MyCode/C++/libs/vcpkg/packages/eigen3_x64-windows/include ^
  -L D:/MyCode/C++/libs/vcpkg/packages/eigen3_x64-windows/lib ^
  -Wl,--out-implib=multi_net.lib
```

### Compile and link a test executable (tested pattern)

Example (compile a single `test.cpp` and link with `multi_net.dll`):

```bat
g++ -std=c++17 test.cpp -o test.exe -g ^
  -I D:\MyCode\C++\multi_net\dll\include ^
  -L . ^
  -lmulti_net
```

### Runtime note (Windows)

When running `test.exe`, Windows must be able to locate `multi_net.dll`:

- Put `multi_net.dll` in the same directory as `test.exe`, or
- Add the directory containing `multi_net.dll` to `PATH`.

If you use VS Code, you may also refer to the build example under `.vscode/`.
